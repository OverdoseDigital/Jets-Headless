<section data-section-type="instagram-feed" class="instagram-feed-section section-spacer--{{ section.settings.section_bottom_margin }}">
  {% if section.settings.title != blank or section.settings.subtitle != blank %}
    <div class="container">
      <header>
        {% if section.settings.title != blank %}
          <h5 class="h6">{{ section.settings.title }}</h5>
        {% endif %}
        {% if section.settings.subtitle != blank %}
          {% if section.settings.sub_link != blank %}<a href="{{section.settings.sub_link}}" target="_blank">{% endif %}
            <h5 class="h6">{{ section.settings.subtitle }}</h5>
          {% if section.settings.sub_link != blank %}</a>{% endif %}
        {% endif %}
      </header>
    </div>
  {% endif %}

  <div class="{% if section.settings.feed_container == 'contain' %}container container--flush--medium-down{% else %}container--flush{% endif %}">
    <div class="instagram-embed">
      {{ section.settings.embed_code | replace: '<script', '<script async' }}
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Instagram Feed",
    "settings": [
      {
        "type": "radio",
        "id": "feed_container",
        "label": "Feed container",
        "options": [
          {
            "value": "contain",
            "label": "Contain"
          },
          {
            "value": "full",
            "label": "Full width"
          }
        ],
        "default": "full"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Follow Us"
      },
      {
        "type": "text",
        "id": "subtitle",
        "label": "Sub Title",
        "default": "@jetsaustralia"
      },
      {
        "type": "url",
        "id": "sub_link",
        "label": "Sub title link"
      },
      {
        "type": "textarea",
        "id": "embed_code",
        "label": "Embed code",
        "default": "Instagram feed embed code"
      },
      {
        "type": "select",
        "id": "section_bottom_margin",
        "label": "Section bottom margin",
        "options": [
          {
            "value": "none",
            "label": "None"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "large",
            "label": "Large"
          }
        ],
        "default": "none"
      }
    ],
    "templates": [
      "index",
      "product"
    ],
    "presets": [
      {
        "name": "Instagram Feed"
      }
    ]
  }
{% endschema %}
