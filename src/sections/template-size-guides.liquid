<div class="container container--narrow section-spacer--{{ section.settings.section_bottom_margin }}">
  <div class="page-header">
    <h1 class="h3">{{ page.title }}</h1>
  </div>

  <div class="rte">
    {% if page.content != blank %}
      {{ page.content }}
    {% endif %}

    {% for block in section.blocks %}
      <div class="size-guides__content-block">
        <div class="section__title text-center">
          <h3>{% if block.settings.title != blank %}{{ block.settings.title }}{% else %}{{ pages[block.settings.page].title }}{% endif %}</h3>
        </div>
        {{ pages[block.settings.page].content }}
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
  {
    "name": "Size Guides",
    "settings": [
      {
        "type": "select",
        "id": "section_bottom_margin",
        "label": "Section bottom margin",
        "options": [
          {
            "value": "none",
            "label": "None"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "large",
            "label": "Large"
          }
        ],
        "default": "none"
      }
    ],
    "blocks": [
      {
        "name": "Size Guide Page",
        "type": "size-guide-page",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Custom Title",
            "default": "Swimwear",
            "info": "If this field is left blank it will use the title from the supplied page below"
          },
          {
            "type": "page",
            "id": "page",
            "label": "Page",
            "info": "The content of this page will be displayed below your custom title"
          }
        ]
      }
    ],
    "templates": [
      "page"
    ],
    "presets": [
      {
        "name": "Template Size Guides"
      }
    ]
  }
{% endschema %}
